IF(WIN32)
   SET(PLATFORM_PATH ${CMAKE_CURRENT_SOURCE_DIR}/win)
ELSE()
   SET(PLATFORM_PATH ${CMAKE_CURRENT_SOURCE_DIR}/android)
ENDIF()

FILE(GLOB ADDITIONAL_SOURCES ${CMAKE_CURRENT_SOURCE_DIR}/*.cpp ${PLATFORM_PATH}/*.cpp)
FILE(GLOB ADDITIONAL_HEADERS ${CMAKE_CURRENT_SOURCE_DIR}/*.h ${PLATFORM_PATH}/*.h)

FILE(GLOB FEATURES_PATH_SOURCES ${CMAKE_CURRENT_SOURCE_DIR}/*.cpp ${FEATURES_PATH}/*.cpp)
FILE(GLOB FEATURES_PATH_HEADERS ${CMAKE_CURRENT_SOURCE_DIR}/*.h ${FEATURES_PATH}/*.h)

SET(SOURCES ${SOURCES} ${ADDITIONAL_SOURCES} ${FEATURES_PATH_SOURCES} PARENT_SCOPE)
SET(HEADERS ${HEADERS} ${ADDITIONAL_HEADERS} ${FEATURES_PATH_HEADERS} PARENT_SCOPE)
